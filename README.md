# Reverse Proxy

–ù–∞–±–æ—Ä —É–¥–æ–±–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏ –≤ **Proxmox**.

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Proxmox

–°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏.

```bash
bash -c "$(curl -fsSL https://raw.githubusercontent.com/codeitnos/reverse_proxy/refs/heads/master/install.sh)"
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

–ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

```bash
bash -c "$(curl -fsSL https://raw.githubusercontent.com/codeitnos/reverse_proxy/refs/heads/master/update.sh)"
```

---

## ‚ÑπÔ∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –°–∫—Ä–∏–ø—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ GitHub –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å –∏—Ö **–∏–∑-–ø–æ–¥ root** –≤ –∫–æ–Ω—Å–æ–ª–∏ Proxmox.
- –î–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç—É –∂–µ –∫–æ–º–∞–Ω–¥—É ‚Äî –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –±—É–¥–µ—Ç —Å–∫–∞—á–∞–Ω–∞ —Å–≤–µ–∂–∞—è –≤–µ—Ä—Å–∏—è.

## üê≥ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ Docker

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ Docker Compose –Ω–∞ –ª—é–±–æ–º —Å–µ—Ä–≤–µ—Ä–µ —Å Docker:


### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
   git clone https://github.com/codeitnos/reverse_proxy.git
   cd reverse_proxy
```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:**
```bash
   docker-compose up -d
```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:**
```bash
   docker-compose ps
```


---

---

---


# –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å—è–º–∏

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞–º–∏, DNS-–∑–∞–ø–∏—Å—è–º–∏ –∏ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π CloudFlare –∏ Let's Encrypt.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é

### üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è DNS
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ –¥–æ–º–µ–Ω—ã –≤ CloudFlare –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ DNS-–∑–∞–ø–∏—Å—è—Ö. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ IP-–∞–¥—Ä–µ—Å–∞ –∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º.

### ‚è±Ô∏è –ê–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è DNS
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ DNS-–∑–∞–ø–∏—Å–µ–π –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é:
- –ö–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç / 1 —á–∞—Å / 12 —á–∞—Å–æ–≤ / 24 —á–∞—Å–∞
- –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö IP-–∞–¥—Ä–µ—Å–æ–≤
- –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–π

### üì• –í—ã–≥—Ä—É–∑–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
–°–æ–∑–¥–∞–µ—Ç ZIP-–∞—Ä—Ö–∏–≤ —Å–æ –≤—Å–µ–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏: –∑–∞–ø–∏—Å–∏, —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã, —Ç–æ–∫–µ–Ω—ã. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è.

### üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ –∞—Ä—Ö–∏–≤–∞. **–í–Ω–∏–º–∞–Ω–∏–µ:** –∑–∞–º–µ–Ω—è–µ—Ç —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

### ‚òÅÔ∏è CloudFlare —Ç–æ–∫–µ–Ω
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ API-—Ç–æ–∫–µ–Ω–∞ CloudFlare –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è DNS-–∑–∞–ø–∏—Å—è–º–∏.

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**
1. [CloudFlare Dashboard](https://dash.cloudflare.com/profile/api-tokens)
2. My Profile ‚Üí API Tokens
3. –°–æ–∑–¥–∞—Ç—å —Ç–æ–∫–µ–Ω —Å –ø—Ä–∞–≤–∞–º–∏ **Zone:DNS:Edit**

### üîê –ü–æ–ª—É—á–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –æ—Ç Let's Encrypt:
- Wildcard-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (*.example.com)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 60 –¥–Ω–µ–π
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Nginx

**–¢—Ä–µ–±—É–µ—Ç—Å—è:** CloudFlare —Ç–æ–∫–µ–Ω –∏ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ–º–µ–Ω.

### üîí –°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å–∏—Å—Ç–µ–º—ã.

### üö™ –í—ã—Ö–æ–¥
–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏.

---

## üìù –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- **–ò—Å—Ç–æ—á–Ω–∏–∫** ‚Äî –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è (example.com)
- **–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** ‚Äî URL –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è (http://192.168.1.100:8080)
- **SSL** ‚Äî –≤–∫–ª—é—á–∏—Ç—å HTTPS
- **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** ‚Äî –≤–∫–ª—é—á–∏—Ç—å/–æ—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ

### –û–ø–µ—Ä–∞—Ü–∏–∏ —Å DNS
- **üîÑ Sync** ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å DNS-–∑–∞–ø–∏—Å—å
- **‚ûï –°–æ–∑–¥–∞—Ç—å DNS** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å A-–∑–∞–ø–∏—Å—å –≤ CloudFlare
- **üìù –û–±–Ω–æ–≤–∏—Ç—å IP** ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å IP-–∞–¥—Ä–µ—Å –∑–∞–ø–∏—Å–∏
- **üóëÔ∏è –£–¥–∞–ª–∏—Ç—å DNS** ‚Äî —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å –∏–∑ CloudFlare

---

## üö¶ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è

| –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----------|----------|
| ‚òÅÔ∏è DNS –Ω–∞—Å—Ç—Ä–æ–µ–Ω | –ó–∞–ø–∏—Å—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ CloudFlare |
| ‚ùì DNS –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω | –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è |
| ‚ö†Ô∏è IP –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç | IP –≤ DNS –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ |
| ‚úÖ SSL –≤–∫–ª—é—á–µ–Ω | –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ HTTPS |
| ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞ | –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ CloudFlare:**
    - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ API-—Ç–æ–∫–µ–Ω –≤ –º–µ–Ω—é ‚òÅÔ∏è CloudFlare —Ç–æ–∫–µ–Ω

2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞:**
    - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å
    - –ù–∞–∂–º–∏—Ç–µ ‚ûï –°–æ–∑–¥–∞—Ç—å DNS –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

3. **–ü–æ–ª—É—á–µ–Ω–∏–µ SSL:**
    - –î–æ–∂–¥–∏—Ç–µ—Å—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS (5-10 –º–∏–Ω)
    - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ üîê –ü–æ–ª—É—á–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

4. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:**
    - –í–∫–ª—é—á–∏—Ç–µ ‚è±Ô∏è –ê–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é DNS
    - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö IP
- –†–µ–≥—É–ª—è—Ä–Ω–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∑–∞ 30 –¥–Ω–µ–π –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è
- –•—Ä–∞–Ω–∏—Ç–µ CloudFlare —Ç–æ–∫–µ–Ω –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- CloudFlare –∞–∫–∫–∞—É–Ω—Ç
- –î–æ–º–µ–Ω—ã –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ CloudFlare


